<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title> User | Welcome</title>
    <!--link href="/templates/.css" rel="stylesheet" type="text/css" /-->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin="anonymous"></script>
    
    <script src="https://kit.fontawesome.com/a81368914c.js"></script>
    <script src = "https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-alpha1/dist/css/bootstrap.min.css"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  </head>

  <style>
    *{
  box-sizing: border-box;
}

* {
  padding: 0;
  margin: 0;
}

body{
  background-color: #a8d0e6;
}


.header {
  font-family: sans-serif;
  color: #f76c6c;
  margin: 0px;
  font-size: x-large;
  background-color: #24305e;
  padding: 30px;
}

.project-title {
  display: inline;
  padding: 4px;
  margin: 40px 0px;
  border: solid #ffffff;
  border-width: 5px 0px;
}

#logout {
  border-color: #f76c6c;
  background-color: #f76c6c;
  border-radius: 30px;
  width: 100px;
  height: 40px;
  outline: none;
  transition: transform 0.8s;
  float: right;
  color: #ffffff;
  font-size:medium;
}

#logout:hover {
  transform: scale(.9);
}

.search {
  display: flex;
  justify-content: center;
  font-family: sans-serif;
  margin: 20px;
  outline:none;
}

#searchbar {
  border-radius: 30px;
  width: 760px;
  height: 40px;
  border-color: #24305e;
  outline: none;
  padding-left: 20px;
  border-color: #f76c6c;
  /* background-color: #24305e; */
}

#searchbutton {
  border-color: #f76c6c;
  background-color: #f76c6c;
  border-radius: 30px;
  color: white;
  font-size: 20px;
  padding: 5px;
  outline:none;
  transition: transform 0.8s;
}

#searchbutton:hover {
  transform: scale(.9);
}

.graph-block {
  display: flex;
  flex-direction: row;
  /* justify-content: center; */
  align-items: center;
  margin: 20px;
}

.graph{
  /* overflow:hidden; */
  width: 50%;
  padding: 10px;
  /* border: solid black 2px; */
}

.live-sales {
  width: 50%;
  height: 100%;
}

.live-sales iframe {
  border: solid black 2px;
}

/* .frames { */
  /* height: 100%; */
  /* width: 100%; */
/* } */

.live-orders {
  width: 25%;
  height: 100%;
}

#Salesreport {
  color: white;
  border-radius: 30px;
  width: 100px;
  height: 40px;
  border-color: #24305e;
  background-color: #24305e;
  outline:none;
  transition: transform 0.8s;
}
#Transactions {
  color: white;
  border-radius: 30px;
  width: 100px;
  height: 40px;
  border-color: #24305e;
  background-color: #24305e;
  outline:none;
  transition: transform 0.8s;
}


.sales {
  margin-top: 1%;
  font-family: sans-serif;
  display: flex;
  flex-direction: row;
  margin-left: 2%;
}
.table1{
  border-collapse: separate;
  border-spacing: 1 1em;
  border: 2px solid rgb(0, 0, 0);
  margin: 2%;
  background-color: white;
  width: 345.5px;
  text-align: left;
  word-spacing: 10px;
  box-sizing: border-box;
  margin-left: 2%;
  border-radius: 6px;
}
.table1__row:nth-child(even) {
  
  background-color: rgb(173, 173, 173);
}
.table1__row:nth-child(odd) {
  background-color: rgb(226, 226, 226);
}

.table1__header {
  font-size: large;
}

.table1__cell {
  background-color: rgb(255, 255, 255);
  padding: 50pxpx;
}

.heading {
  font-family: sans-serif;
  background-color: #24305e;
  font-size: larger;
  color: white;
  height: 50px;
  text-align: center
}

.tablerow1 {
  display: flex;
  flex-direction: row;
}
.table2{
  border-collapse: separate;
  border-spacing: 1 1em;
  border: 2px solid rgb(0, 0, 0);
  margin: 2%;
  background-color: white;
  width: 50%;
  text-align: left;
  word-spacing: 10px;
  box-sizing: border-box;
  border-radius: 6px;
}

#backtotop
{
  align-items: center;
  font-family: sans-serif;
  font-size: large;
  color: white;
  text-align: center;
  border-radius: 5px;
  background-color: #24305e;
  width: 140px;
  height: 30px;

}

.backto {
  margin-left: 45.5%;
}

</style>



<body>
<div class="bgimage">

  <div class="navabar header" id="dest">
      <h2 class="project-title">AUTOMATIC ORDERING SYSTEM</h2>
      <a href="/logout">
        <button id="logout" > Logout</button>
      </a>
  </div>

  <div class="search">
    <form action="{{url_for('searched_item')}}">      
      <input id="searchbar" type="text" placeholder="Search for item" name="Search">
      <button id="searchbutton" type="submit"><i class="fas fa-search"></i>  Search</button>
    </form>
  </div>


<div class="graph-block">
  <div class="graph">
    <canvas id="myChart"></canvas>
  </div>
  
  <div class="live-sales">
    <iframe class="frames" height=320px width="600px" src="/liveSales" frameborder="0"></iframe>
  </div>
</div>

<div>
  <div class="live-orders">
    <iframe class="frames" height=320px width="600px" src="/liveOrders" frameborder="0"></iframe>
  </div>
</div>
<div class="tablerow1">
  <table class="table1">
    <tr class="heading">
      <th colspan="3">High on Demand</th>
    </tr>
    <tr class="table1__header">
      <th class="table1__cell" >{{ headings }}</th>
    </tr>
    {% for i in range(0, 7) %}
    <tr class="table1__row">
      <td class="table__cell" > {{ high_on_demand[i] }}</td>
    </tr>
    {% endfor %} 
  </table>

  <table class="table1">
    <tr class="heading">
      <th colspan="3">Low on Demand</th>
    </tr>
    <tr class="table1__header">
      <th class="table1__cell" >{{ headings }}</th>
    </tr>
    {% for i in range(0, 7) %}
    <tr class="table1__row">
      <td class="table__cell" > {{ low_on_demand[i] }}</td>
    </tr>
    {% endfor %} 
  </table>  
</div>

</body>
































  <script>
    var ctx = document.getElementById('myChart').getContext('2d');
    var myChart = new Chart(ctx, {
        type: 'line',
        data: {
            labels: ["06/01", "13/01", "20/01", "27/01", "06/02", "13/02", "20/02", "27/02"],
            datasets: [{
                label: 'No. of items sold',
                fill: true,
                lineTension: 0,
                data: [12, 19, 3, 5, 20, 3, 7, 4], 
                
                borderColor: "rgba(0, 0, 0, 1)",
                // hoverBorderColor: "rgba(0, 255, 0, 1)",
                borderWidth: 1,
    
                pointBackgroudColor: "rgba(255, 0, 0, 1)"
            }]
        },
        options: {
            scales: {
                yAxes: [{
                    ticks: {
                        beginAtZero: true
                    }
                }]
            }
        }
    });

  // Define selector for selecting 
  // anchor links with the hash 
let anchorSelector = 'a[href^="#"]'; 

// Collect all such anchor links 
let anchorList = document.querySelectorAll(anchorSelector); 

// Iterate through each of the links 
    anchorList.forEach(link => { 
      link.onclick = function (e) { 

        // Prevent scrolling if the 
        // hash value is blank 
        e.preventDefault(); 

        // Get the destination to scroll to 
        // using the hash property 
        let destination = 
          document.querySelector(this.hash); 

        // Scroll to the destination using 
        // scrollIntoView method 
        destination.scrollIntoView({ 
          behavior: 'smooth' 
        }); 
      } 
    }); 
  </script>
</html>
